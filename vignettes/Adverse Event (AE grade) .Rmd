---
title: "Adverse Event (AE)"
output: 
  rmarkdown::html_vignette:
    number_sections: true
vignette: >
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
date: "2025-01-30"

---

<!-- https://oncostat.github.io/grstat/articles/adverse_events_sas.html -->

# Data

The function grstat_example() is used as an example dataset to illustrate the data usage.
However, in practice, the suggested approach would be to utilise if needed: EDCimport::read_trialmaster("path/to/file.zip").

This analysis focuses on two datasets:

ae, which contains data on adverse events.
enrolres, which includes all patients and their respective treatment arms."

```{r setup}
library(grstat)
library(flextable)
library(dplyr)
```


```{r}
# #| label: "setup"
# #| message: false
# #| warning: false
# library(grstat)
# library(flextable)
# library(dplyr)

# tm = EDCimport::read_trialmaster("path/to/file.zip")
tm = grstat_example()
attach(tm)

head(ae)

head(enrolres)

```
# Tables Grade

use  ae_table_grade()

```{r}
ae_table_grade(df_ae=ae, df_enrol=enrolres, arm=NULL, variant="max") %>% 
  as_flextable(header_show_n=TRUE) %>% 
  add_footer_lines("Percentages reflect the proportion of patients whose maximum AE grade was as indicated.")
```




