[{"path":"https://oncostat.github.io/grstat/articles/adverse_events_sas.html","id":"data","dir":"Articles","previous_headings":"","what":"Data","title":"Adverse Events : Macros SAS","text":"commence par charger la base de données. Ici j’utilise la fonction grstat_example() pour ne pas dépendre de données réelles privées, mais en pratique utiliserait plutôt EDCimport::read_trialmaster(\"path//file.zip\"). s’intéresse à deux datasets : - ae qui contient les données d’adverse events - enrolres qui contient tous les patients et leur bras de traitement.","code":"library(grstat) library(flextable) library(dplyr)  # tm = EDCimport::read_trialmaster(\"path/to/file.zip\") tm = grstat_example() attach(tm)  head(ae) #> # A tibble: 6 × 7 #>   subjid aesoc                                  aeterm  aegr sae   aerel crfname #>    <int> <chr>                                  <chr>  <dbl> <fct> <chr> <chr>   #> 1      2 Eye disorders                          Eyeli…     1 No    Expe… ae      #> 2      2 Cardiac disorders                      Heart…     4 Yes   Stan… ae      #> 3      2 Surgical and medical procedures        Thera…     1 No    Other ae      #> 4      3 Respiratory, thoracic and mediastinal… Pulmo…     1 No    Stan… ae      #> 5      3 Surgical and medical procedures        Diagn…     3 No    Canc… ae      #> 6      3 Neoplasms benign, malignant, and unsp… Malig…     1 Yes   Radi… ae  head(enrolres) #> # A tibble: 6 × 4 #>   subjid arm       arm3        crfname  #>    <int> <chr>     <chr>       <chr>    #> 1      1 Control   Treatment B enrolres #> 2      2 Control   Control     enrolres #> 3      3 Treatment Treatment A enrolres #> 4      4 Control   Control     enrolres #> 5      5 Treatment Treatment A enrolres #> 6      6 Treatment Treatment A enrolres"},{"path":"https://oncostat.github.io/grstat/articles/adverse_events_sas.html","id":"macro-ae_grades","dir":"Articles","previous_headings":"","what":"Macro AE_grades","title":"Adverse Events : Macros SAS","text":"La macro AE_grades est implémentée dans la fonction ae_table_grade(). Cette fonction retourne des objets de classe crosstable, lesquels ont une méthode as_flextable() qui les transforme en table HTML de classe flextable. Voir la description du package crosstable pour plus d’informations: documentation.  Voir la description du package flextable pour la liste des modificateurs (comme add_footer_lines()) : documentation.","code":""},{"path":"https://oncostat.github.io/grstat/articles/adverse_events_sas.html","id":"ae_grades1-table-des-grades-maximum-par-patient","dir":"Articles","previous_headings":"Macro AE_grades","what":"AE_grades1 : Table des grades maximum par patient","title":"Adverse Events : Macros SAS","text":"label variable Treatment arm patients (N=200) Patient maximum AE grade declared AE 3 (2%) Grade 1 35 (18%) Grade 2 62 (31%) Grade 3 51 (26%) Grade 4 39 (20%) Grade 5 10 (5%) Percentages reflect proportion patients whose maximum AE grade indicated.","code":"ae_table_grade(df_ae=ae, df_enrol=enrolres, arm=NULL, variant=\"max\") %>%    as_flextable(header_show_n=TRUE) %>%    add_footer_lines(\"Percentages reflect the proportion of patients whose maximum AE grade was as indicated.\")"},{"path":"https://oncostat.github.io/grstat/articles/adverse_events_sas.html","id":"ae_grades2-table-des-grades-maximum-par-patient-stratifié-sur-le-bras","dir":"Articles","previous_headings":"Macro AE_grades","what":"AE_grades2 : Table des grades maximum par patient stratifié sur le bras","title":"Adverse Events : Macros SAS","text":"pourrait retrouver exactement la sortie SAS en mettant total=FALSE. label variable Treatment arm Total Control (N=100) Treatment (N=100) Patient maximum AE grade declared AE 3 (3%) 0 (0%) 3 (2%) Grade 1 27 (27%) 8 (8%) 35 (18%) Grade 2 32 (32%) 30 (30%) 62 (31%) Grade 3 23 (23%) 28 (28%) 51 (26%) Grade 4 14 (14%) 25 (25%) 39 (20%) Grade 5 1 (1%) 9 (9%) 10 (5%) Percentages reflect proportion patients presenting one AE given grade","code":"ae_table_grade(df_ae=ae, df_enrol=enrolres, arm=\"arm\", variant=\"max\") %>%    as_flextable(header_show_n=TRUE) %>%    add_footer_lines(\"Percentages reflect the proportion of patients presenting at most one AE of given grade\")"},{"path":"https://oncostat.github.io/grstat/articles/adverse_events_sas.html","id":"ae_grades3-table-de-tous-les-grades-pour-chaque-patient","dir":"Articles","previous_headings":"Macro AE_grades","what":"AE_grades3 : Table de tous les grades pour chaque patient","title":"Adverse Events : Macros SAS","text":"label variable Treatment arm patients (N=200) Patient least one AE grade declared AE 3 (2%) Grade 1 164 (82%) Grade 2 117 (58%) Grade 3 62 (31%) Grade 4 44 (22%) Grade 5 10 (5%) Percentages reflect proportion patients presenting least one AE given grade","code":"ae_table_grade(df_ae=ae, df_enrol=enrolres, arm=NULL, variant=\"eq\") %>%    as_flextable(header_show_n=TRUE) %>%    add_footer_lines(\"Percentages reflect the proportion of patients presenting at least one AE of given grade\")"},{"path":"https://oncostat.github.io/grstat/articles/adverse_events_sas.html","id":"ae_grades3bis-table-de-tous-les-grades-pour-chaque-patient-stratifié-sur-le-bras","dir":"Articles","previous_headings":"Macro AE_grades","what":"AE_grades3bis : Table de tous les grades pour chaque patient, stratifié sur le bras","title":"Adverse Events : Macros SAS","text":"pourrait retrouver exactement la sortie SAS en mettant total=FALSE. label variable Treatment arm Total Control (N=100) Treatment (N=100) Patient least one AE grade declared AE 3 (3%) 0 (0%) 3 (2%) Grade 1 83 (83%) 81 (81%) 164 (82%) Grade 2 53 (53%) 64 (64%) 117 (58%) Grade 3 25 (25%) 37 (37%) 62 (31%) Grade 4 15 (15%) 29 (29%) 44 (22%) Grade 5 1 (1%) 9 (9%) 10 (5%) Percentages reflect proportion patients presenting least one AE given grade","code":"ae_table_grade(df_ae=ae, df_enrol=enrolres, arm=\"arm\", variant=\"eq\") %>%    as_flextable(header_show_n=TRUE) %>%    add_footer_lines(\"Percentages reflect the proportion of patients presenting at least one AE of given grade\")"},{"path":"https://oncostat.github.io/grstat/articles/adverse_events_sas.html","id":"ae_grades4-table-des-grades-maximum-par-patient-filtrée-sur-les-sae","dir":"Articles","previous_headings":"Macro AE_grades","what":"AE_grades4 : Table des grades maximum par patient, filtrée sur les SAE","title":"Adverse Events : Macros SAS","text":"Il suffit de filtrer la table ae en amont et d’indiquer que le label doit être “SAE”. label variable Treatment arm patients (N=200) Patient maximum SAE grade declared SAE 150 (75%) Grade 1 11 (6%) Grade 2 9 (4%) Grade 3 10 (5%) Grade 4 16 (8%) Grade 5 4 (2%) Percentages reflect proportion patients whose maximum SAE grade indicated.","code":"ae %>%    filter(sae==\"Yes\") %>%    ae_table_grade(df_enrol=enrolres, arm=NULL, variant=\"max\", ae_label=\"SAE\") %>%    as_flextable(header_show_n=TRUE) %>%    add_footer_lines(\"Percentages reflect the proportion of patients whose maximum SAE grade was as indicated.\")"},{"path":"https://oncostat.github.io/grstat/articles/adverse_events_sas.html","id":"macro-ae_soc","dir":"Articles","previous_headings":"","what":"Macro AE_SOC","title":"Adverse Events : Macros SAS","text":"La macro AE_SOC est implémentée dans la fonction ae_table_soc(). Cette fonction retourne des objets de classe ae_table_soc. Ils ont également une méthode as_flextable qui les transforme en table HTML de classe flextable, mais différente de celle de crosstable. Voir ?as_flextable.ae_table_soc pour plus d’informations: lien.  Voir la description du package flextable pour la liste des modificateurs (comme add_footer_lines()) : documentation. Astuce: Pour les sorties sur officer, comme ces tables sont très larges, pensez bien à basculer en format paysage en utilisant officer::body_end_section_continuous(), puis officer::body_end_section_landscape() pour revenir au format portrait.","code":""},{"path":"https://oncostat.github.io/grstat/articles/adverse_events_sas.html","id":"ae_soc1-table-des-grades-par-soc","dir":"Articles","previous_headings":"Macro AE_SOC","what":"AE_SOC1 : Table des grades par soc","title":"Adverse Events : Macros SAS","text":"peut ajouter total=FALSE pour retirer la colonne “Tot”.  patients (N=200) CTCAE SOC G1 G2 G3 G4 G5 NA Tot Blood lymphatic system disorders 6 (3%) 1 (0%) 1 (0%)  1 (0%)  9 (4%) Cardiac disorders 11 (6%) 8 (4%) 4 (2%) 5 (2%) 2 (1%)  30 (15%) Congenital, familial genetic disorders 27 (14%) 15 (8%) 6 (3%) 3 (2%)   51 (26%) Ear labyrinth disorders 10 (5%) 5 (2%) 1 (0%)    16 (8%) Endocrine disorders 10 (5%) 7 (4%) 4 (2%) 3 (2%)   24 (12%) Eye disorders 19 (10%) 7 (4%) 7 (4%) 2 (1%)   35 (18%) Gastrointestinal disorders 2 (1%) 2 (1%) 4 (2%) 1 (0%)   9 (4%) General disorders administration site conditions 8 (4%) 3 (2%)  1 (0%)   12 (6%) Hepatobiliary disorders 13 (6%) 9 (4%) 1 (0%) 1 (0%)   24 (12%) Immune system disorders 15 (8%) 7 (4%) 3 (2%) 2 (1%)   27 (14%) Infections infestations 6 (3%) 3 (2%)  1 (0%)   10 (5%) Injury, poisoning procedural complications 11 (6%) 9 (4%) 8 (4%) 1 (0%) 1 (0%)  30 (15%) Investigations 4 (2%) 2 (1%) 1 (0%) 1 (0%)   8 (4%) Metabolism nutrition disorders 7 (4%) 3 (2%) 4 (2%)    14 (7%) Musculoskeletal connective tissue disorders 9 (4%) 5 (2%) 2 (1%) 5 (2%)   21 (10%) Neoplasms benign, malignant, unspecified 17 (8%) 11 (6%) 2 (1%) 7 (4%) 2 (1%)  39 (20%) Nervous system disorders 7 (4%) 4 (2%)  1 (0%)   12 (6%) Pregnancy, puerperium perinatal conditions 18 (9%) 8 (4%) 7 (4%)    33 (16%) Psychiatric disorders 16 (8%) 3 (2%) 2 (1%) 2 (1%) 1 (0%)  24 (12%) Renal urinary disorders 1 (0%) 3 (2%) 1 (0%) 1 (0%)   6 (3%) Reproductive system breast disorders 7 (4%) 2 (1%)     9 (4%) Respiratory, thoracic mediastinal disorders 8 (4%) 6 (3%) 2 (1%) 1 (0%) 1 (0%)  18 (9%) Skin subcutaneous tissue disorders 4 (2%) 5 (2%) 1 (0%) 2 (1%)   12 (6%) Social circumstances 19 (10%) 14 (7%) 7 (4%) 5 (2%)   45 (22%) Surgical medical procedures 26 (13%) 5 (2%) 8 (4%) 3 (2%) 1 (0%)  43 (22%) Vascular disorders 12 (6%) 5 (2%) 2 (1%) 2 (1%) 1 (0%)  22 (11%) Declared AE      3 (2%) 3 (2%) header, N represents number patients. Percentages reflect proportion patients whose maximum AE grade indicated.","code":"ae_table_soc(df_ae=ae, df_enrol=enrolres, arm=NULL, term=NULL,               sort_by_count=FALSE) %>%    as_flextable() %>%    add_footer_lines(\"In the header, N represents the number of patients.\") %>%    add_footer_lines(\"Percentages reflect the proportion of patients whose maximum AE grade was as indicated.\")"},{"path":"https://oncostat.github.io/grstat/articles/adverse_events_sas.html","id":"ae_soc2-table-des-grades-par-soc-et-termes","dir":"Articles","previous_headings":"Macro AE_SOC","what":"AE_SOC2 : Table des grades par soc et termes","title":"Adverse Events : Macros SAS","text":"patients (N=200) CTCAE SOC CTCAE v4.0 Term G1 G2 G3 G4 G5 NA Tot Blood lymphatic system disorders Bone marrow disorders 1 (0%)      1 (0%) Hematologic neoplasms 4 (2%) 1 (0%)   1 (0%)  6 (3%) Red blood cell disorders 1 (0%)  1 (0%)    2 (1%) Cardiac disorders Cardiac arrhythmias 5 (2%) 2 (1%)  2 (1%)   9 (4%) Cardiac valve disorders 2 (1%) 1 (0%) 2 (1%) 1 (0%) 2 (1%)  8 (4%) Coronary artery disorders 1 (0%) 4 (2%) 1 (0%) 1 (0%)   7 (4%) Heart failures 5 (2%) 1 (0%) 1 (0%) 1 (0%)   8 (4%) Congenital, familial genetic disorders Chromosomal abnormalities 11 (6%) 5 (2%) 1 (0%) 1 (0%)   18 (9%) Congenital nervous system disorders 6 (3%) 3 (2%)     9 (4%) Familial hematologic disorders 7 (4%) 1 (0%) 3 (2%) 2 (1%)   13 (6%) Hereditary connective tissue disorders 9 (4%) 6 (3%) 2 (1%)    17 (8%) Ear labyrinth disorders Hearing disorders 2 (1%)  1 (0%)    3 (2%) Labyrinth disorders 1 (0%)      1 (0%) Tinnitus 6 (3%) 1 (0%)     7 (4%) Vertigo balance disorders 3 (2%) 4 (2%)     7 (4%) Endocrine disorders Adrenal gland disorders 2 (1%) 5 (2%)     7 (4%) Parathyroid gland disorders 1 (0%)  3 (2%) 1 (0%)   5 (2%) Pituitary gland disorders 6 (3%) 2 (1%) 1 (0%)    9 (4%) Thyroid gland disorders 3 (2%) 1 (0%)  2 (1%)   6 (3%) Eye disorders Corneal disorders 4 (2%)  2 (1%) 2 (1%)   8 (4%) Eyelid disorders 6 (3%) 1 (0%) 1 (0%)    8 (4%) Retinal disorders 5 (2%) 2 (1%) 2 (1%)    9 (4%) Vision disorders 7 (4%) 4 (2%) 2 (1%)    13 (6%) Gastrointestinal disorders Esophageal disorders    1 (0%)   1 (0%) Gastric disorders 2 (1%) 1 (0%) 2 (1%)    5 (2%) Intestinal disorders  1 (0%) 2 (1%)    3 (2%) General disorders administration site conditions Device issues 4 (2%)   1 (0%)   5 (2%) General physical health deterioration 3 (2%)      3 (2%) Injection site reactions 1 (0%) 1 (0%)     2 (1%) Pain discomfort  2 (1%)     2 (1%) Hepatobiliary disorders Bile duct disorders 4 (2%) 3 (2%)     7 (4%) Gallbladder disorders 3 (2%) 2 (1%)     5 (2%) Hepatic failure 3 (2%) 2 (1%) 1 (0%) 1 (0%)   7 (4%) Liver disorders 3 (2%) 2 (1%)     5 (2%) Immune system disorders Autoimmune disorders 6 (3%) 1 (0%)  1 (0%)   8 (4%) Hypersensitivity conditions 4 (2%) 1 (0%) 1 (0%) 1 (0%)   7 (4%) Immunodeficiency 3 (2%) 1 (0%)     4 (2%) Inflammatory responses 4 (2%) 5 (2%) 2 (1%)    11 (6%) Infections infestations Bacterial infectious disorders 1 (0%)      1 (0%) Fungal infectious disorders  1 (0%)     1 (0%) Parasitic infectious disorders 2 (1%)   1 (0%)   3 (2%) Viral infectious disorders 3 (2%) 2 (1%)     5 (2%) Injury, poisoning procedural complications Poisonings 3 (2%) 3 (2%) 1 (0%) 1 (0%) 1 (0%)  9 (4%) Procedural complications 2 (1%) 3 (2%) 2 (1%)    7 (4%) Radiation-related toxicities 2 (1%) 3 (2%) 2 (1%)    7 (4%) Traumatic injuries 6 (3%) 1 (0%) 3 (2%)    10 (5%) Investigations Blood analyses  1 (0%) 1 (0%)    2 (1%) Cardiovascular assessments 2 (1%)      2 (1%) Imaging studies 1 (0%) 1 (0%)     2 (1%) Liver function analyses 1 (0%)   1 (0%)   2 (1%) Metabolism nutrition disorders Fluid electrolyte disorders 2 (1%) 1 (0%) 1 (0%)    4 (2%) Lipid metabolism disorders  1 (0%) 1 (0%)    2 (1%) Nutritional disorders 4 (2%)      4 (2%) Vitamin deficiencies 1 (0%) 1 (0%) 2 (1%)    4 (2%) Musculoskeletal connective tissue disorders Arthritis joint disorders 6 (3%) 1 (0%) 1 (0%)    8 (4%) Bone disorders 2 (1%) 1 (0%)  2 (1%)   5 (2%) Connective tissue disorders 1 (0%) 2 (1%) 1 (0%) 2 (1%)   6 (3%) Muscle disorders  2 (1%)  1 (0%)   3 (2%) Neoplasms benign, malignant, unspecified Benign neoplasms 5 (2%) 4 (2%) 1 (0%) 3 (2%)   13 (6%) Malignant neoplasms 6 (3%) 4 (2%) 1 (0%) 2 (1%)   13 (6%) Neoplasms unspecified 5 (2%)   1 (0%) 1 (0%)  7 (4%) Tumor progression 2 (1%) 3 (2%)  1 (0%) 1 (0%)  7 (4%) Nervous system disorders Headache disorders 3 (2%) 2 (1%)     5 (2%) Neurological disorders central nervous system 3 (2%) 1 (0%)     4 (2%) Peripheral neuropathies    1 (0%)   1 (0%) Seizure disorders 2 (1%) 1 (0%)     3 (2%) Pregnancy, puerperium perinatal conditions Breastfeeding issues 4 (2%) 1 (0%) 2 (1%)    7 (4%) Fetal complications 3 (2%) 2 (1%) 2 (1%)    7 (4%) Labor delivery complications 7 (4%) 4 (2%) 1 (0%)    12 (6%) Pregnancy complications 5 (2%) 1 (0%) 2 (1%)    8 (4%) Psychiatric disorders Anxiety disorders 5 (2%)      5 (2%) Mood disorders 2 (1%)   1 (0%)   3 (2%) Sleep disorders 8 (4%) 1 (0%)     9 (4%) Substance-related disorders 2 (1%) 2 (1%) 2 (1%) 1 (0%) 1 (0%)  8 (4%) Renal urinary disorders Bladder disorders  1 (0%) 1 (0%)    2 (1%) Kidney disorders 1 (0%) 1 (0%)  1 (0%)   3 (2%) Urinary tract disorders  1 (0%)     1 (0%) Reproductive system breast disorders Breast disorders 2 (1%)      2 (1%) Female reproductive disorders 2 (1%)      2 (1%) Male reproductive disorders 2 (1%) 2 (1%)     4 (2%) Menstrual disorders 1 (0%)      1 (0%) Respiratory, thoracic mediastinal disorders Lung function disorders 3 (2%) 3 (2%)     6 (3%) Pleural disorders 1 (0%) 1 (0%) 1 (0%) 1 (0%)   4 (2%) Pulmonary vascular disorders 3 (2%) 2 (1%)   1 (0%)  6 (3%) Respiratory infections 1 (0%)  1 (0%)    2 (1%) Skin subcutaneous tissue disorders Dermatitis 1 (0%)  1 (0%) 1 (0%)   3 (2%) Skin subcutaneous tissue injuries 1 (0%) 2 (1%)     3 (2%) Skin infections 2 (1%) 2 (1%)  1 (0%)   5 (2%) Skin pigmentation disorders  1 (0%)     1 (0%) Social circumstances Cultural issues 5 (2%) 2 (1%) 2 (1%) 1 (0%)   10 (5%) Economic conditions affecting care 3 (2%) 4 (2%) 1 (0%) 1 (0%)   9 (4%) Family support issues 6 (3%) 3 (2%) 3 (2%) 2 (1%)   14 (7%) Social environmental issues 7 (4%) 5 (2%) 1 (0%) 1 (0%)   14 (7%) Surgical medical procedures Device implantation procedures 13 (6%)  1 (0%) 2 (1%) 1 (0%)  17 (8%) Diagnostic procedures 10 (5%) 1 (0%) 5 (2%)    16 (8%) Surgical complications 3 (2%) 4 (2%) 1 (0%) 1 (0%)   9 (4%) Therapeutic procedures 2 (1%)  1 (0%)    3 (2%) Vascular disorders Hypertension-related conditions 4 (2%) 2 (1%) 1 (0%)    7 (4%) Hypotension-related conditions 4 (2%) 1 (0%)   1 (0%)  6 (3%) Vascular hemorrhagic disorders 1 (0%) 2 (1%) 1 (0%) 1 (0%)   5 (2%) Venous thromboembolic events 3 (2%) 1 (0%)  1 (0%)   5 (2%) Declared AE       3 (2%) 3 (2%) header, N represents number patients. Percentages reflect proportion patients whose maximum AE grade indicated.","code":"ae_table_soc(df_ae=ae, df_enrol=enrolres, arm=NULL, term=\"aeterm\",               sort_by_count=FALSE) %>%    as_flextable() %>%    add_footer_lines(\"In the header, N represents the number of patients.\") %>%    add_footer_lines(\"Percentages reflect the proportion of patients whose maximum AE grade was as indicated.\")"},{"path":"https://oncostat.github.io/grstat/articles/adverse_events_sas.html","id":"ae_soc3-table-des-grades-par-termes-uniquement-filtrée-sur-les-sae","dir":"Articles","previous_headings":"Macro AE_SOC","what":"AE_SOC3 : Table des grades par termes uniquement, filtrée sur les SAE","title":"Adverse Events : Macros SAS","text":"Il suffit de filtrer la table AE en amont.  patients (N=200) CTCAE SOC G1 G2 G3 G4 G5 NA Tot Blood lymphatic system disorders 1 (0%)    1 (0%)  2 (1%) Cardiac disorders  1 (0%)  2 (1%) 2 (1%)  5 (2%) Congenital, familial genetic disorders  2 (1%) 3 (2%) 2 (1%)   7 (4%) Endocrine disorders  1 (0%) 1 (0%)    2 (1%) Eye disorders   1 (0%) 1 (0%)   2 (1%) General disorders administration site conditions    1 (0%)   1 (0%) Hepatobiliary disorders 1 (0%) 1 (0%)  1 (0%)   3 (2%) Immune system disorders 1 (0%) 1 (0%) 1 (0%) 1 (0%)   4 (2%) Injury, poisoning procedural complications  2 (1%)  1 (0%)   3 (2%) Investigations 1 (0%)      1 (0%) Metabolism nutrition disorders 2 (1%)  1 (0%)    3 (2%) Musculoskeletal connective tissue disorders    3 (2%)   3 (2%) Neoplasms benign, malignant, unspecified 1 (0%) 1 (0%)  2 (1%)   4 (2%) Nervous system disorders  1 (0%)     1 (0%) Psychiatric disorders 1 (0%)      1 (0%) Social circumstances 4 (2%) 2 (1%) 3 (2%)    9 (4%) Surgical medical procedures 1 (0%)  4 (2%) 2 (1%)   7 (4%) Vascular disorders     1 (0%)  1 (0%) Declared AE      150 (75%) 150 (75%) header, N represents number patients. Percentages reflect proportion patients whose maximum SAE grade indicated.","code":"ae %>%    filter(sae==\"Yes\") %>%   ae_table_soc(df_enrol=enrolres, term=NULL, arm=NULL, sort_by_count=FALSE) %>%    as_flextable() %>%    add_footer_lines(c(\"In the header, N represents the number of patients.\",                      \"Percentages reflect the proportion of patients whose maximum SAE grade was as indicated.\"))"},{"path":"https://oncostat.github.io/grstat/articles/adverse_events_sas.html","id":"ae_soc45-table-des-grades-stratifiée-sur-le-bras-sans-colonne-total","dir":"Articles","previous_headings":"Macro AE_SOC","what":"AE_SOC4/5 : Table des grades stratifiée sur le bras (sans colonne total)","title":"Adverse Events : Macros SAS","text":"peut ajouter total=FALSE pour retirer la colonne “Tot” et obtenir la sortie AE_SOC5.  Control (N=100) Treatment (N=100) CTCAE SOC G1 G2 G3 G4 G5 NA Tot G1 G2 G3 G4 G5 NA Tot Blood lymphatic system disorders 3 (3%) 1 (1%)     4 (4%) 3 (3%)  1 (1%)  1 (1%)  5 (5%) Cardiac disorders 7 (7%) 5 (5%) 3 (3%) 2 (2%)   17 (17%) 4 (4%) 3 (3%) 1 (1%) 3 (3%) 2 (2%)  13 (13%) Congenital, familial genetic disorders 18 (18%) 7 (7%) 2 (2%) 2 (2%)   29 (29%) 9 (9%) 8 (8%) 4 (4%) 1 (1%)   22 (22%) Ear labyrinth disorders 5 (5%) 3 (3%)     8 (8%) 5 (5%) 2 (2%) 1 (1%)    8 (8%) Endocrine disorders 4 (4%) 4 (4%) 2 (2%) 1 (1%)   11 (11%) 6 (6%) 3 (3%) 2 (2%) 2 (2%)   13 (13%) Eye disorders 7 (7%) 2 (2%) 3 (3%) 2 (2%)   14 (14%) 12 (12%) 5 (5%) 4 (4%)    21 (21%) Gastrointestinal disorders        2 (2%) 2 (2%) 4 (4%) 1 (1%)   9 (9%) General disorders administration site conditions 4 (4%) 1 (1%)  1 (1%)   6 (6%) 4 (4%) 2 (2%)     6 (6%) Hepatobiliary disorders 2 (2%) 6 (6%)  1 (1%)   9 (9%) 11 (11%) 3 (3%) 1 (1%)    15 (15%) Immune system disorders 10 (10%) 3 (3%) 2 (2%)    15 (15%) 5 (5%) 4 (4%) 1 (1%) 2 (2%)   12 (12%) Infections infestations 5 (5%) 2 (2%)     7 (7%) 1 (1%) 1 (1%)  1 (1%)   3 (3%) Injury, poisoning procedural complications 6 (6%) 7 (7%) 4 (4%)    17 (17%) 5 (5%) 2 (2%) 4 (4%) 1 (1%) 1 (1%)  13 (13%) Investigations 1 (1%) 1 (1%) 1 (1%)    3 (3%) 3 (3%) 1 (1%)  1 (1%)   5 (5%) Metabolism nutrition disorders 4 (4%) 1 (1%) 1 (1%)    6 (6%) 3 (3%) 2 (2%) 3 (3%)    8 (8%) Musculoskeletal connective tissue disorders 6 (6%) 1 (1%) 1 (1%) 1 (1%)   9 (9%) 3 (3%) 4 (4%) 1 (1%) 4 (4%)   12 (12%) Neoplasms benign, malignant, unspecified 9 (9%) 5 (5%)  3 (3%) 1 (1%)  18 (18%) 8 (8%) 6 (6%) 2 (2%) 4 (4%) 1 (1%)  21 (21%) Nervous system disorders 3 (3%)   1 (1%)   4 (4%) 4 (4%) 4 (4%)     8 (8%) Pregnancy, puerperium perinatal conditions 10 (10%) 2 (2%) 3 (3%)    15 (15%) 8 (8%) 6 (6%) 4 (4%)    18 (18%) Psychiatric disorders 9 (9%) 2 (2%) 1 (1%)    12 (12%) 7 (7%) 1 (1%) 1 (1%) 2 (2%) 1 (1%)  12 (12%) Renal urinary disorders  3 (3%)     3 (3%) 1 (1%)  1 (1%) 1 (1%)   3 (3%) Reproductive system breast disorders 3 (3%) 1 (1%)     4 (4%) 4 (4%) 1 (1%)     5 (5%) Respiratory, thoracic mediastinal disorders 2 (2%) 4 (4%) 2 (2%)    8 (8%) 6 (6%) 2 (2%)  1 (1%) 1 (1%)  10 (10%) Skin subcutaneous tissue disorders 3 (3%) 2 (2%)     5 (5%) 1 (1%) 3 (3%) 1 (1%) 2 (2%)   7 (7%) Social circumstances 13 (13%) 5 (5%) 3 (3%)    21 (21%) 6 (6%) 9 (9%) 4 (4%) 5 (5%)   24 (24%) Surgical medical procedures 18 (18%) 2 (2%) 2 (2%)    22 (22%) 8 (8%) 3 (3%) 6 (6%) 3 (3%) 1 (1%)  21 (21%) Vascular disorders 10 (10%) 2 (2%) 1 (1%) 1 (1%)   14 (14%) 2 (2%) 3 (3%) 1 (1%) 1 (1%) 1 (1%)  8 (8%) Declared AE      3 (3%) 3 (3%)        header, N represents number patients. Percentages reflect proportion patients whose maximum AE grade indicated.","code":"ae_table_soc(df_ae=ae, df_enrol=enrolres, term=NULL, arm=\"arm\", sort_by_count=FALSE) %>%    as_flextable() %>%    add_footer_lines(\"In the header, N represents the number of patients.\") %>%    add_footer_lines(\"Percentages reflect the proportion of patients whose maximum AE grade was as indicated.\")"},{"path":"https://oncostat.github.io/grstat/articles/adverse_events_sas.html","id":"ae_soc6-table-des-soc-et-termes-tous-grades-confondus-stratifiée-sur-le-bras","dir":"Articles","previous_headings":"Macro AE_SOC","what":"AE_SOC6 : Table des soc et termes tous grades confondus stratifiée sur le bras","title":"Adverse Events : Macros SAS","text":"Control (N=100) Treatment (N=100) CTCAE SOC CTCAE v4.0 Term G1 G2 G3 G4 G5 NA Tot G1 G2 G3 G4 G5 NA Tot Blood lymphatic system disorders Bone marrow disorders 1 (1%)      1 (1%)        Hematologic neoplasms 2 (2%) 1 (1%)     3 (3%) 2 (2%)    1 (1%)  3 (3%) Red blood cell disorders        1 (1%)  1 (1%)    2 (2%) Cardiac disorders Cardiac arrhythmias 3 (3%) 2 (2%)     5 (5%) 2 (2%)   2 (2%)   4 (4%) Cardiac valve disorders 1 (1%)  1 (1%)    2 (2%) 1 (1%) 1 (1%) 1 (1%) 1 (1%) 2 (2%)  6 (6%) Coronary artery disorders 1 (1%) 2 (2%) 1 (1%) 1 (1%)   5 (5%)  2 (2%)     2 (2%) Heart failures 4 (4%) 1 (1%) 1 (1%) 1 (1%)   7 (7%) 1 (1%)      1 (1%) Congenital, familial genetic disorders Chromosomal abnormalities 9 (9%) 2 (2%)  1 (1%)   12 (12%) 2 (2%) 3 (3%) 1 (1%)    6 (6%) Congenital nervous system disorders 3 (3%) 3 (3%)     6 (6%) 3 (3%)      3 (3%) Familial hematologic disorders 6 (6%)   1 (1%)   7 (7%) 1 (1%) 1 (1%) 3 (3%) 1 (1%)   6 (6%) Hereditary connective tissue disorders 4 (4%) 2 (2%) 2 (2%)    8 (8%) 5 (5%) 4 (4%)     9 (9%) Ear labyrinth disorders Hearing disorders 1 (1%)      1 (1%) 1 (1%)  1 (1%)    2 (2%) Labyrinth disorders 1 (1%)      1 (1%)        Tinnitus 4 (4%) 1 (1%)     5 (5%) 2 (2%)      2 (2%) Vertigo balance disorders  2 (2%)     2 (2%) 3 (3%) 2 (2%)     5 (5%) Endocrine disorders Adrenal gland disorders 1 (1%) 3 (3%)     4 (4%) 1 (1%) 2 (2%)     3 (3%) Parathyroid gland disorders 1 (1%)  1 (1%)    2 (2%)   2 (2%) 1 (1%)   3 (3%) Pituitary gland disorders 3 (3%) 1 (1%) 1 (1%)    5 (5%) 3 (3%) 1 (1%)     4 (4%) Thyroid gland disorders 1 (1%)   1 (1%)   2 (2%) 2 (2%) 1 (1%)  1 (1%)   4 (4%) Eye disorders Corneal disorders 3 (3%)   2 (2%)   5 (5%) 1 (1%)  2 (2%)    3 (3%) Eyelid disorders 2 (2%) 1 (1%)     3 (3%) 4 (4%)  1 (1%)    5 (5%) Retinal disorders 1 (1%)  1 (1%)    2 (2%) 4 (4%) 2 (2%) 1 (1%)    7 (7%) Vision disorders 2 (2%) 1 (1%) 2 (2%)    5 (5%) 5 (5%) 3 (3%)     8 (8%) Gastrointestinal disorders Esophageal disorders           1 (1%)   1 (1%) Gastric disorders        2 (2%) 1 (1%) 2 (2%)    5 (5%) Intestinal disorders         1 (1%) 2 (2%)    3 (3%) General disorders administration site conditions Device issues 2 (2%)   1 (1%)   3 (3%) 2 (2%)      2 (2%) General physical health deterioration 1 (1%)      1 (1%) 2 (2%)      2 (2%) Injection site reactions 1 (1%)      1 (1%)  1 (1%)     1 (1%) Pain discomfort  1 (1%)     1 (1%)  1 (1%)     1 (1%) Hepatobiliary disorders Bile duct disorders 2 (2%) 2 (2%)     4 (4%) 2 (2%) 1 (1%)     3 (3%) Gallbladder disorders  1 (1%)     1 (1%) 3 (3%) 1 (1%)     4 (4%) Hepatic failure  1 (1%)  1 (1%)   2 (2%) 3 (3%) 1 (1%) 1 (1%)    5 (5%) Liver disorders  2 (2%)     2 (2%) 3 (3%)      3 (3%) Immune system disorders Autoimmune disorders 5 (5%)      5 (5%) 1 (1%) 1 (1%)  1 (1%)   3 (3%) Hypersensitivity conditions 2 (2%)      2 (2%) 2 (2%) 1 (1%) 1 (1%) 1 (1%)   5 (5%) Immunodeficiency 3 (3%) 1 (1%)     4 (4%)        Inflammatory responses 2 (2%) 2 (2%) 2 (2%)    6 (6%) 2 (2%) 3 (3%)     5 (5%) Infections infestations Bacterial infectious disorders 1 (1%)      1 (1%)        Fungal infectious disorders  1 (1%)     1 (1%)        Parasitic infectious disorders 1 (1%)      1 (1%) 1 (1%)   1 (1%)   2 (2%) Viral infectious disorders 3 (3%) 1 (1%)     4 (4%)  1 (1%)     1 (1%) Injury, poisoning procedural complications Poisonings 1 (1%) 3 (3%) 1 (1%)    5 (5%) 2 (2%)   1 (1%) 1 (1%)  4 (4%) Procedural complications 2 (2%) 3 (3%) 1 (1%)    6 (6%)   1 (1%)    1 (1%) Radiation-related toxicities 1 (1%) 1 (1%)     2 (2%) 1 (1%) 2 (2%) 2 (2%)    5 (5%) Traumatic injuries 2 (2%) 1 (1%) 2 (2%)    5 (5%) 4 (4%)  1 (1%)    5 (5%) Investigations Blood analyses   1 (1%)    1 (1%)  1 (1%)     1 (1%) Cardiovascular assessments 1 (1%)      1 (1%) 1 (1%)      1 (1%) Imaging studies  1 (1%)     1 (1%) 1 (1%)      1 (1%) Liver function analyses        1 (1%)   1 (1%)   2 (2%) Metabolism nutrition disorders Fluid electrolyte disorders 1 (1%)      1 (1%) 1 (1%) 1 (1%) 1 (1%)    3 (3%) Lipid metabolism disorders  1 (1%) 1 (1%)    2 (2%)        Nutritional disorders 3 (3%)      3 (3%) 1 (1%)      1 (1%) Vitamin deficiencies        1 (1%) 1 (1%) 2 (2%)    4 (4%) Musculoskeletal connective tissue disorders Arthritis joint disorders 4 (4%)      4 (4%) 2 (2%) 1 (1%) 1 (1%)    4 (4%) Bone disorders 1 (1%)   1 (1%)   2 (2%) 1 (1%) 1 (1%)  1 (1%)   3 (3%) Connective tissue disorders 1 (1%) 1 (1%) 1 (1%)    3 (3%)  1 (1%)  2 (2%)   3 (3%) Muscle disorders         2 (2%)  1 (1%)   3 (3%) Neoplasms benign, malignant, unspecified Benign neoplasms 3 (3%) 1 (1%)  1 (1%)   5 (5%) 2 (2%) 3 (3%) 1 (1%) 2 (2%)   8 (8%) Malignant neoplasms 3 (3%) 2 (2%)     5 (5%) 3 (3%) 2 (2%) 1 (1%) 2 (2%)   8 (8%) Neoplasms unspecified 3 (3%)   1 (1%) 1 (1%)  5 (5%) 2 (2%)      2 (2%) Tumor progression  2 (2%)  1 (1%)   3 (3%) 2 (2%) 1 (1%)   1 (1%)  4 (4%) Nervous system disorders Headache disorders 1 (1%)      1 (1%) 2 (2%) 2 (2%)     4 (4%) Neurological disorders central nervous system 1 (1%)      1 (1%) 2 (2%) 1 (1%)     3 (3%) Peripheral neuropathies    1 (1%)   1 (1%)        Seizure disorders 2 (2%)      2 (2%)  1 (1%)     1 (1%) Pregnancy, puerperium perinatal conditions Breastfeeding issues 4 (4%) 1 (1%) 1 (1%)    6 (6%)   1 (1%)    1 (1%) Fetal complications 3 (3%)      3 (3%)  2 (2%) 2 (2%)    4 (4%) Labor delivery complications 2 (2%) 1 (1%) 1 (1%)    4 (4%) 5 (5%) 3 (3%)     8 (8%) Pregnancy complications 2 (2%)  1 (1%)    3 (3%) 3 (3%) 1 (1%) 1 (1%)    5 (5%) Psychiatric disorders Anxiety disorders 3 (3%)      3 (3%) 2 (2%)      2 (2%) Mood disorders 2 (2%)      2 (2%)    1 (1%)   1 (1%) Sleep disorders 4 (4%) 1 (1%)     5 (5%) 4 (4%)      4 (4%) Substance-related disorders  1 (1%) 1 (1%)    2 (2%) 2 (2%) 1 (1%) 1 (1%) 1 (1%) 1 (1%)  6 (6%) Renal urinary disorders Bladder disorders  1 (1%)     1 (1%)   1 (1%)    1 (1%) Kidney disorders  1 (1%)     1 (1%) 1 (1%)   1 (1%)   2 (2%) Urinary tract disorders  1 (1%)     1 (1%)        Reproductive system breast disorders Breast disorders        2 (2%)      2 (2%) Female reproductive disorders 1 (1%)      1 (1%) 1 (1%)      1 (1%) Male reproductive disorders 1 (1%) 1 (1%)     2 (2%) 1 (1%) 1 (1%)     2 (2%) Menstrual disorders 1 (1%)      1 (1%)        Respiratory, thoracic mediastinal disorders Lung function disorders 1 (1%) 2 (2%)     3 (3%) 2 (2%) 1 (1%)     3 (3%) Pleural disorders 1 (1%) 1 (1%) 1 (1%)    3 (3%)    1 (1%)   1 (1%) Pulmonary vascular disorders  1 (1%)     1 (1%) 3 (3%) 1 (1%)   1 (1%)  5 (5%) Respiratory infections   1 (1%)    1 (1%) 1 (1%)      1 (1%) Skin subcutaneous tissue disorders Dermatitis 1 (1%)      1 (1%)   1 (1%) 1 (1%)   2 (2%) Skin subcutaneous tissue injuries 1 (1%)      1 (1%)  2 (2%)     2 (2%) Skin infections 1 (1%) 1 (1%)     2 (2%) 1 (1%) 1 (1%)  1 (1%)   3 (3%) Skin pigmentation disorders  1 (1%)     1 (1%)        Social circumstances Cultural issues 3 (3%) 1 (1%)     4 (4%) 2 (2%) 1 (1%) 2 (2%) 1 (1%)   6 (6%) Economic conditions affecting care 2 (2%) 2 (2%) 1 (1%)    5 (5%) 1 (1%) 2 (2%)  1 (1%)   4 (4%) Family support issues 3 (3%)  1 (1%)    4 (4%) 3 (3%) 3 (3%) 2 (2%) 2 (2%)   10 (10%) Social environmental issues 5 (5%) 2 (2%) 1 (1%)    8 (8%) 2 (2%) 3 (3%)  1 (1%)   6 (6%) Surgical medical procedures Device implantation procedures 10 (10%)      10 (10%) 3 (3%)  1 (1%) 2 (2%) 1 (1%)  7 (7%) Diagnostic procedures 5 (5%) 1 (1%) 1 (1%)    7 (7%) 5 (5%)  4 (4%)    9 (9%) Surgical complications 2 (2%) 1 (1%)     3 (3%) 1 (1%) 3 (3%) 1 (1%) 1 (1%)   6 (6%) Therapeutic procedures 1 (1%)  1 (1%)    2 (2%) 1 (1%)      1 (1%) Vascular disorders Hypertension-related conditions 3 (3%) 1 (1%)     4 (4%) 1 (1%) 1 (1%) 1 (1%)    3 (3%) Hypotension-related conditions 3 (3%)      3 (3%) 1 (1%) 1 (1%)   1 (1%)  3 (3%) Vascular hemorrhagic disorders 1 (1%)  1 (1%) 1 (1%)   3 (3%)  2 (2%)     2 (2%) Venous thromboembolic events 3 (3%) 1 (1%)     4 (4%)    1 (1%)   1 (1%) Declared AE       3 (3%) 3 (3%)        header, N represents number patients. Percentages reflect proportion patients whose maximum AE grade indicated.","code":"ae_table_soc(df_ae=ae, df_enrol=enrolres, arm=\"arm\", term=\"aeterm\",               sort_by_count=FALSE) %>%    as_flextable() %>%    add_footer_lines(\"In the header, N represents the number of patients.\") %>%    add_footer_lines(\"Percentages reflect the proportion of patients whose maximum AE grade was as indicated.\")"},{"path":"https://oncostat.github.io/grstat/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Team Oncostat. Copyright holder, funder.           01ed4t417 Dan Chaltiel. Author, maintainer. Baptiste Archambaud. Contributor. Charlotte Bargain. Contributor. Aldéric Fraslin. Contributor. Nusaïbah Ibrahimi. Contributor. Livia Pierotti. Contributor.","code":""},{"path":"https://oncostat.github.io/grstat/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Chaltiel D (2025). grstat: Clinical Research Tools. R package version 0.1.0.9004, https://github.com/oncostat/grstat/, https://oncostat.github.io/grstat/.","code":"@Manual{,   title = {grstat: Clinical Research Tools},   author = {Dan Chaltiel},   year = {2025},   note = {R package version 0.1.0.9004, https://github.com/oncostat/grstat/},   url = {https://oncostat.github.io/grstat/}, }"},{"path":"https://oncostat.github.io/grstat/index.html","id":"grstat-","dir":"","previous_headings":"","what":"Clinical Research Tools","title":"Clinical Research Tools","text":"grstat package designed help standardize descriptive clinical research analyses GR.","code":""},{"path":"https://oncostat.github.io/grstat/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Clinical Research Tools","text":"package CRAN, install GitHub: Note , reproducibility purpose, even better solution use renv.","code":"# Install development version on Github pak::pak(\"Oncostat/grstat\")  # Install specific tagged version (for reproducibility purpose) pak::pak(\"Oncostat/grstat@x.x.x\")"},{"path":"https://oncostat.github.io/grstat/index.html","id":"features","dir":"","previous_headings":"","what":"Features","title":"Clinical Research Tools","text":"See full documentation https://oncostat.github.io/grstat/.","code":""},{"path":"https://oncostat.github.io/grstat/index.html","id":"stable","dir":"","previous_headings":"Features","what":"Stable","title":"Clinical Research Tools","text":"ae_table_grade(), ae_table_soc() ae_plot_grade(), butterfly_plot()","code":""},{"path":"https://oncostat.github.io/grstat/index.html","id":"dev","dir":"","previous_headings":"Features","what":"Dev","title":"Clinical Research Tools","text":"gr_new_project() waterfall_plot()","code":""},{"path":"https://oncostat.github.io/grstat/reference/ae_plot_grade.html","id":null,"dir":"Reference","previous_headings":"","what":"Graphic representation of AEs — ae_plot_grade","title":"Graphic representation of AEs — ae_plot_grade","text":"Produce graphic representation AE, counting AE bars patient, colored grade. Can faceted treatment arm.","code":""},{"path":"https://oncostat.github.io/grstat/reference/ae_plot_grade.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Graphic representation of AEs — ae_plot_grade","text":"","code":"ae_plot_grade(   df_ae,   ...,   df_enrol,   variant = c(\"max\", \"sup\", \"eq\"),   position = c(\"dodge\", \"stack\", \"fill\"),   type = c(\"relative\", \"absolute\"),   arm = NULL,   grade = \"AEGR\",   subjid = \"SUBJID\",   total = FALSE )"},{"path":"https://oncostat.github.io/grstat/reference/ae_plot_grade.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Graphic representation of AEs — ae_plot_grade","text":"df_ae adverse event dataset, one row per AE, containing subjid, soc, grade. ... unused df_enrol enrollment dataset, one row per patient, containing subjid (arm needed). patients dataset. variant one several c(\"max\", \"sup\", \"eq\"). max computes maximum AE grade per patient, sup computes number patients experienced least one AE grade higher equal X, eq computes number patients experienced least one AE grade equal X. position Position adjustment (cf. ggplot2::geom_col()) type whether present patients proportions (relative) counts (absolute) arm name treatment column df_enrol. Case-insensitive. Can set NULL. grade name AE grade column df_ae. Case-insensitive. subjid name patient ID df_ae df_enrol. Case-insensitive. total whether add total column arm.","code":""},{"path":"https://oncostat.github.io/grstat/reference/ae_plot_grade.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Graphic representation of AEs — ae_plot_grade","text":"ggplot","code":""},{"path":"https://oncostat.github.io/grstat/reference/ae_plot_grade.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Graphic representation of AEs — ae_plot_grade","text":"","code":"tm = grstat_example() attach(tm, warn.conflicts=FALSE) ae_plot_grade(df_ae=ae, df_enrol=enrolres)  ae_plot_grade(df_ae=ae, df_enrol=enrolres, arm=\"ARM\", variant=c(\"sup\", \"max\"))  ae_plot_grade(df_ae=ae, df_enrol=enrolres, arm=\"ARM\", type=\"absolute\")  ae_plot_grade(df_ae=ae, df_enrol=enrolres, arm=\"ARM\", position=\"fill\")  ae_plot_grade(df_ae=ae, df_enrol=enrolres, arm=\"ARM\", position=\"stack\", type=\"absolute\")"},{"path":"https://oncostat.github.io/grstat/reference/ae_plot_grade_sum.html","id":null,"dir":"Reference","previous_headings":"","what":"Graphic representation of AEs — ae_plot_grade_sum","title":"Graphic representation of AEs — ae_plot_grade_sum","text":"Produce graphic representation AE, counting AE bars patient, colored grade. Can faceted treatment arm.","code":""},{"path":"https://oncostat.github.io/grstat/reference/ae_plot_grade_sum.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Graphic representation of AEs — ae_plot_grade_sum","text":"","code":"ae_plot_grade_sum(   df_ae,   ...,   df_enrol,   low = \"#ffc425\",   high = \"#d11141\",   weights = NULL,   arm = NULL,   grade = \"AEGR\",   subjid = \"SUBJID\" )"},{"path":"https://oncostat.github.io/grstat/reference/ae_plot_grade_sum.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Graphic representation of AEs — ae_plot_grade_sum","text":"df_ae adverse event dataset, one row per AE, containing subjid, soc, grade. ... unused df_enrol enrollment dataset, one row per patient, containing subjid (arm needed). patients dataset. low color Grade 1 AE high color Grade 5 AE weights (optional) length 5 numeric vector, giving weights grade arm name treatment column df_enrol. Case-insensitive. Can set NULL. grade name AE grade column df_ae. Case-insensitive. subjid name patient ID df_ae df_enrol. Case-insensitive.","code":""},{"path":"https://oncostat.github.io/grstat/reference/ae_plot_grade_sum.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Graphic representation of AEs — ae_plot_grade_sum","text":"ggplot","code":""},{"path":[]},{"path":"https://oncostat.github.io/grstat/reference/ae_plot_grade_sum.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Graphic representation of AEs — ae_plot_grade_sum","text":"","code":"tm = grstat_example() attach(tm, warn.conflicts=FALSE) ae_plot_grade_sum(df_ae=ae, df_enrol=enrolres)  ae_plot_grade_sum(df_ae=ae, df_enrol=enrolres, arm=\"ARM\")  ae_plot_grade_sum(df_ae=ae, df_enrol=enrolres, arm=\"ARM\", weights=c(1,1,3,6,10))"},{"path":"https://oncostat.github.io/grstat/reference/ae_table_grade.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary tables for AE — ae_table_grade","title":"Summary tables for AE — ae_table_grade","text":"function ae_table_grade() creates summary table maximum AE grades patient according CTCAE grade. resulting dataframe can piped as_flextable() get nicely formatted flextable.","code":""},{"path":"https://oncostat.github.io/grstat/reference/ae_table_grade.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summary tables for AE — ae_table_grade","text":"","code":"ae_table_grade(   df_ae,   ...,   df_enrol,   variant = c(\"max\", \"sup\", \"eq\"),   arm = NULL,   grade = \"AEGR\",   subjid = \"SUBJID\",   ae_label = \"AE\",   percent = TRUE,   digits = 2,   total = TRUE )"},{"path":"https://oncostat.github.io/grstat/reference/ae_table_grade.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summary tables for AE — ae_table_grade","text":"df_ae adverse event dataset, one row per AE, containing subjid, soc, grade. ... unused df_enrol enrollment dataset, one row per patient, containing subjid (arm needed). patients dataset. variant one several c(\"max\", \"sup\", \"eq\"). max computes maximum AE grade per patient, sup computes number patients experienced least one AE grade higher equal X, eq computes number patients experienced least one AE grade equal X. arm name treatment column df_enrol. Case-insensitive. Can set NULL. grade name AE grade column df_ae. Case-insensitive. subjid name patient ID df_ae df_enrol. Case-insensitive. ae_label label adverse events, usually \"AE\" \"SAE\". percent whether show percentages counts. Defaults TRUE. Can also \"\" show counts. digits significant digits percentages. total whether add total column arm.","code":""},{"path":"https://oncostat.github.io/grstat/reference/ae_table_grade.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summary tables for AE — ae_table_grade","text":"crosstable","code":""},{"path":[]},{"path":"https://oncostat.github.io/grstat/reference/ae_table_grade.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Summary tables for AE — ae_table_grade","text":"label variable Treatment arm patients (N=200) Patient maximum AE grade declared AE 3 (2%) Grade 1 35 (18%) Grade 2 62 (31%) Grade 3 51 (26%) Grade 4 39 (20%) Grade 5 10 (5%) Patient least one AE grade declared AE 3 (2%) Grade ≥ 1 197 (98%) Grade ≥ 2 162 (81%) Grade ≥ 3 100 (50%) Grade ≥ 4 49 (24%) Grade = 5 10 (5%) Patient least one AE grade declared AE 3 (2%) Grade 1 164 (82%) Grade 2 117 (58%) Grade 3 62 (31%) Grade 4 44 (22%) Grade 5 10 (5%) label variable Treatment arm Total Control (N=100) Treatment (N=100) Patient maximum AE grade declared AE 3 (3%) 0 (0%) 3 (2%) Grade 1 27 (27%) 8 (8%) 35 (18%) Grade 2 32 (32%) 30 (30%) 62 (31%) Grade 3 23 (23%) 28 (28%) 51 (26%) Grade 4 14 (14%) 25 (25%) 39 (20%) Grade 5 1 (1%) 9 (9%) 10 (5%) Patient least one AE grade declared AE 3 (3%) 0 (0%) 3 (2%) Grade ≥ 1 97 (97%) 100 (100%) 197 (98%) Grade ≥ 2 70 (70%) 92 (92%) 162 (81%) Grade ≥ 3 38 (38%) 62 (62%) 100 (50%) Grade ≥ 4 15 (15%) 34 (34%) 49 (24%) Grade = 5 1 (1%) 9 (9%) 10 (5%) Patient least one AE grade declared AE 3 (3%) 0 (0%) 3 (2%) Grade 1 83 (83%) 81 (81%) 164 (82%) Grade 2 53 (53%) 64 (64%) 117 (58%) Grade 3 25 (25%) 37 (37%) 62 (31%) Grade 4 15 (15%) 29 (29%) 44 (22%) Grade 5 1 (1%) 9 (9%) 10 (5%) label variable Treatment arm Total Control (N=100) Treatment (N=100) Patient maximum SAE grade declared SAE 73 (73%) 77 (77%) 150 (75%) Grade 1 10 (10%) 1 (1%) 11 (6%) Grade 2 6 (6%) 3 (3%) 9 (4%) Grade 3 3 (3%) 7 (7%) 10 (5%) Grade 4 8 (8%) 8 (8%) 16 (8%) Grade 5 0 (0%) 4 (4%) 4 (2%) Patient least one SAE grade declared SAE 73 (73%) 77 (77%) 150 (75%) Grade ≥ 1 27 (27%) 23 (23%) 50 (25%) Grade ≥ 2 17 (17%) 22 (22%) 39 (20%) Grade ≥ 3 11 (11%) 19 (19%) 30 (15%) Grade ≥ 4 8 (8%) 12 (12%) 20 (10%) Grade = 5 0 (0%) 4 (4%) 4 (2%) Patient least one SAE grade declared SAE 73 (73%) 77 (77%) 150 (75%) Grade 1 10 (10%) 2 (2%) 12 (6%) Grade 2 8 (8%) 3 (3%) 11 (6%) Grade 3 5 (5%) 8 (8%) 13 (6%) Grade 4 8 (8%) 8 (8%) 16 (8%) Grade 5 0 (0%) 4 (4%) 4 (2%) label variable Treatment arm Total Control (N=100) Patient maximum AE grade declared AE 3 (3%) 3 (3%) Grade 1 27 (27%) 27 (27%) Grade 2 32 (32%) 32 (32%) Grade 3 23 (23%) 23 (23%) Grade 4 14 (14%) 14 (14%) Grade 5 1 (1%) 1 (1%) Patient least one AE grade declared AE 3 (3%) 3 (3%) Grade ≥ 1 97 (97%) 97 (97%) Grade ≥ 2 70 (70%) 70 (70%) Grade ≥ 3 38 (38%) 38 (38%) Grade ≥ 4 15 (15%) 15 (15%) Grade = 5 1 (1%) 1 (1%) Patient least one AE grade declared AE 3 (3%) 3 (3%) Grade 1 83 (83%) 83 (83%) Grade 2 53 (53%) 53 (53%) Grade 3 25 (25%) 25 (25%) Grade 4 15 (15%) 15 (15%) Grade 5 1 (1%) 1 (1%) label variable Treatment arm Total Control (N=100) Treatment (N=100) Patient maximum AE grade declared AE 3 (3%) 0 (0%) 3 (2%) Grade 3 23 (23%) 28 (28%) 51 (26%) Grade 4 14 (14%) 25 (25%) 39 (20%) Grade 5 1 (1%) 9 (9%) 10 (5%) Patient least one AE grade declared AE 3 (3%) 0 (0%) 3 (2%) Grade ≥ 1 97 (97%) 100 (100%) 197 (98%) Grade ≥ 2 70 (70%) 92 (92%) 162 (81%) Grade ≥ 3 38 (38%) 62 (62%) 100 (50%) Grade ≥ 4 15 (15%) 34 (34%) 49 (24%) Grade = 5 1 (1%) 9 (9%) 10 (5%) Patient least one AE grade declared AE 3 (3%) 0 (0%) 3 (2%) Grade 3 25 (25%) 37 (37%) 62 (31%) Grade 4 15 (15%) 29 (29%) 44 (22%) Grade 5 1 (1%) 9 (9%) 10 (5%)","code":"tm = grstat_example() attach(tm, warn.conflicts=FALSE)  ae_table_grade(df_ae=ae, df_enrol=enrolres, arm=NULL) %>%   as_flextable(header_show_n=TRUE) .cl-666bed5e{table-layout:auto;}.cl-66649e50{font-family:'DejaVu Sans';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-66649e64{font-family:'DejaVu Sans';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-66684c44{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-66684c4e{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-666867a6{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(0, 0, 0, 1.00);border-top: 1.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-666867b0{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-666867b1{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-666867b2{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-666867ba{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-666867bb{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-666867bc{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-666867c4{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-666867c5{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}labelvariableTreatment armAll patients (N=200)Patient maximum AE gradeNo declared AE3 (2%)Grade 135 (18%)Grade 262 (31%)Grade 351 (26%)Grade 439 (20%)Grade 510 (5%)Patient had at least one AE of gradeNo declared AE3 (2%)Grade ≥ 1197 (98%)Grade ≥ 2162 (81%)Grade ≥ 3100 (50%)Grade ≥ 449 (24%)Grade = 510 (5%)Patient had at least one AE of grade No declared AE3 (2%)Grade 1164 (82%)Grade 2117 (58%)Grade 362 (31%)Grade 444 (22%)Grade 510 (5%) ae_table_grade(df_ae=ae, df_enrol=enrolres, arm=\"arm\") %>%   as_flextable(header_show_n=TRUE) .cl-67444622{table-layout:auto;}.cl-673d3c38{font-family:'DejaVu Sans';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-673d3c4c{font-family:'DejaVu Sans';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-673fa7de{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-673fa7e8{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-673fc246{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(0, 0, 0, 1.00);border-top: 1.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-673fc250{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-673fc25a{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-673fc25b{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-673fc264{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-673fc265{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-673fc266{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-673fc26e{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-673fc26f{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}labelvariableTreatment armTotalControl (N=100)Treatment (N=100)Patient maximum AE gradeNo declared AE3 (3%)0 (0%)3 (2%)Grade 127 (27%)8 (8%)35 (18%)Grade 232 (32%)30 (30%)62 (31%)Grade 323 (23%)28 (28%)51 (26%)Grade 414 (14%)25 (25%)39 (20%)Grade 51 (1%)9 (9%)10 (5%)Patient had at least one AE of gradeNo declared AE3 (3%)0 (0%)3 (2%)Grade ≥ 197 (97%)100 (100%)197 (98%)Grade ≥ 270 (70%)92 (92%)162 (81%)Grade ≥ 338 (38%)62 (62%)100 (50%)Grade ≥ 415 (15%)34 (34%)49 (24%)Grade = 51 (1%)9 (9%)10 (5%)Patient had at least one AE of grade No declared AE3 (3%)0 (0%)3 (2%)Grade 183 (83%)81 (81%)164 (82%)Grade 253 (53%)64 (64%)117 (58%)Grade 325 (25%)37 (37%)62 (31%)Grade 415 (15%)29 (29%)44 (22%)Grade 51 (1%)9 (9%)10 (5%) #To get SAE only, filter df_ae first ae %>%   dplyr::filter(sae==\"Yes\") %>%   ae_table_grade(df_enrol=enrolres, arm=\"arm\", ae_label=\"SAE\") %>%   as_flextable(header_show_n=TRUE) .cl-681601f8{table-layout:auto;}.cl-680fbe6a{font-family:'DejaVu Sans';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-680fbe74{font-family:'DejaVu Sans';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-6812509e{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-681250b2{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-68126c5a{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(0, 0, 0, 1.00);border-top: 1.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-68126c64{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-68126c6e{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-68126c6f{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-68126c78{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-68126c79{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-68126c82{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-68126c83{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-68126c84{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}labelvariableTreatment armTotalControl (N=100)Treatment (N=100)Patient maximum SAE gradeNo declared SAE73 (73%)77 (77%)150 (75%)Grade 110 (10%)1 (1%)11 (6%)Grade 26 (6%)3 (3%)9 (4%)Grade 33 (3%)7 (7%)10 (5%)Grade 48 (8%)8 (8%)16 (8%)Grade 50 (0%)4 (4%)4 (2%)Patient had at least one SAE of gradeNo declared SAE73 (73%)77 (77%)150 (75%)Grade ≥ 127 (27%)23 (23%)50 (25%)Grade ≥ 217 (17%)22 (22%)39 (20%)Grade ≥ 311 (11%)19 (19%)30 (15%)Grade ≥ 48 (8%)12 (12%)20 (10%)Grade = 50 (0%)4 (4%)4 (2%)Patient had at least one SAE of grade No declared SAE73 (73%)77 (77%)150 (75%)Grade 110 (10%)2 (2%)12 (6%)Grade 28 (8%)3 (3%)11 (6%)Grade 35 (5%)8 (8%)13 (6%)Grade 48 (8%)8 (8%)16 (8%)Grade 50 (0%)4 (4%)4 (2%) #To describe a sub-population, filter df_enrol first enrolres2 = enrolres %>%   dplyr::filter(arm==\"Control\") ae %>%   ae_table_grade(df_enrol=enrolres2, arm=\"arm\") %>%   as_flextable(header_show_n=TRUE) .cl-68d4fb8a{table-layout:auto;}.cl-68cf1c24{font-family:'DejaVu Sans';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-68cf1c2e{font-family:'DejaVu Sans';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-68d181ee{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-68d18202{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-68d19d32{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(0, 0, 0, 1.00);border-top: 1.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-68d19d3c{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-68d19d3d{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-68d19d46{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-68d19d47{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-68d19d50{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-68d19d51{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-68d19d52{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-68d19d5a{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}labelvariableTreatment armTotalControl (N=100)Patient maximum AE gradeNo declared AE3 (3%)3 (3%)Grade 127 (27%)27 (27%)Grade 232 (32%)32 (32%)Grade 323 (23%)23 (23%)Grade 414 (14%)14 (14%)Grade 51 (1%)1 (1%)Patient had at least one AE of gradeNo declared AE3 (3%)3 (3%)Grade ≥ 197 (97%)97 (97%)Grade ≥ 270 (70%)70 (70%)Grade ≥ 338 (38%)38 (38%)Grade ≥ 415 (15%)15 (15%)Grade = 51 (1%)1 (1%)Patient had at least one AE of grade No declared AE3 (3%)3 (3%)Grade 183 (83%)83 (83%)Grade 253 (53%)53 (53%)Grade 325 (25%)25 (25%)Grade 415 (15%)15 (15%)Grade 51 (1%)1 (1%) #You can also filter the AE table ae %>%   ae_table_grade(df_enrol=enrolres, arm=\"arm\") %>%   dplyr::filter(!variable %in% c(\"Grade 1\", \"Grade 2\")) %>%   as_flextable(header_show_n=TRUE) .cl-69ad9b0c{table-layout:auto;}.cl-69a6d6a0{font-family:'DejaVu Sans';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-69a6d6b4{font-family:'DejaVu Sans';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-69a9335a{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-69a93364{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-69a94dea{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(0, 0, 0, 1.00);border-top: 1.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-69a94df4{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-69a94df5{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-69a94dfe{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-69a94dff{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-69a94e00{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-69a94e08{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-69a94e09{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-69a94e0a{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}labelvariableTreatment armTotalControl (N=100)Treatment (N=100)Patient maximum AE gradeNo declared AE3 (3%)0 (0%)3 (2%)Grade 323 (23%)28 (28%)51 (26%)Grade 414 (14%)25 (25%)39 (20%)Grade 51 (1%)9 (9%)10 (5%)Patient had at least one AE of gradeNo declared AE3 (3%)0 (0%)3 (2%)Grade ≥ 197 (97%)100 (100%)197 (98%)Grade ≥ 270 (70%)92 (92%)162 (81%)Grade ≥ 338 (38%)62 (62%)100 (50%)Grade ≥ 415 (15%)34 (34%)49 (24%)Grade = 51 (1%)9 (9%)10 (5%)Patient had at least one AE of grade No declared AE3 (3%)0 (0%)3 (2%)Grade 325 (25%)37 (37%)62 (31%)Grade 415 (15%)29 (29%)44 (22%)Grade 51 (1%)9 (9%)10 (5%)"},{"path":"https://oncostat.github.io/grstat/reference/ae_table_soc.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary tables for AE by SOC — ae_table_soc","title":"Summary tables for AE by SOC — ae_table_soc","text":"function ae_table_soc() creates summary table AE grades patient according term SOC CTCAE. resulting dataframe can piped as_flextable() get nicely formatted flextable.","code":""},{"path":"https://oncostat.github.io/grstat/reference/ae_table_soc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summary tables for AE by SOC — ae_table_soc","text":"","code":"ae_table_soc(   df_ae,   ...,   df_enrol,   variant = c(\"max\", \"sup\", \"eq\"),   arm = NULL,   term = NULL,   sort_by_count = TRUE,   total = TRUE,   showNA = TRUE,   digits = 0,   warn_miss = FALSE,   grade = \"AEGR\",   soc = \"AESOC\",   subjid = \"SUBJID\" )  # S3 method for class 'ae_table_soc' as_flextable(   x,   ...,   arm_colors = c(\"#f2dcdb\", \"#dbe5f1\", \"#ebf1dd\", \"#e5e0ec\"),   padding_v = NULL )"},{"path":"https://oncostat.github.io/grstat/reference/ae_table_soc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summary tables for AE by SOC — ae_table_soc","text":"df_ae adverse event dataset, one row per AE, containing subjid, soc, grade. ... unused df_enrol enrollment dataset, one row per patient, containing subjid (arm needed). patients dataset. variant one several c(\"max\", \"sup\", \"eq\"). max computes maximum AE grade per patient, sup computes number patients experienced least one AE grade higher equal X, eq computes number patients experienced least one AE grade equal X. arm name treatment column df_enrol. Case-insensitive. Can set NULL. term name CTCAE term column df_ae. Case-insensitive. Can set NULL. sort_by_count table sorted number AE SOC alphabetically. total whether add total column arm. showNA whether display missing grades. digits significant digits percentages. warn_miss whether warn missing values. grade name AE grade column df_ae. Case-insensitive. soc name SOC column df_ae. Case-insensitive. Grade considered 0 missing (e.g. patient absent df_ae). subjid name patient ID df_ae df_enrol. Case-insensitive. x dataframe, resulting ae_table_soc() arm_colors colors arm groups padding_v numeric lenght 2, giving vertical padding body (1) header (2)","code":""},{"path":"https://oncostat.github.io/grstat/reference/ae_table_soc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summary tables for AE by SOC — ae_table_soc","text":"dataframe (ae_table_soc()) flextable (as_flextable()). formatted flextable","code":""},{"path":[]},{"path":"https://oncostat.github.io/grstat/reference/ae_table_soc.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Summary tables for AE by SOC — ae_table_soc","text":"patients (N=200) CTCAE SOC G1 G2 G3 G4 G5 NA Congenital, familial genetic disorders 27 (14%) 15 (8%) 6 (3%) 3 (2%)   Social circumstances 19 (10%) 14 (7%) 7 (4%) 5 (2%)   Surgical medical procedures 26 (13%) 5 (2%) 8 (4%) 3 (2%) 1 (0%)  Neoplasms benign, malignant, unspecified 17 (8%) 11 (6%) 2 (1%) 7 (4%) 2 (1%)  Eye disorders 19 (10%) 7 (4%) 7 (4%) 2 (1%)   Pregnancy, puerperium perinatal conditions 18 (9%) 8 (4%) 7 (4%)    Cardiac disorders 11 (6%) 8 (4%) 4 (2%) 5 (2%) 2 (1%)  Injury, poisoning procedural complications 11 (6%) 9 (4%) 8 (4%) 1 (0%) 1 (0%)  Immune system disorders 15 (8%) 7 (4%) 3 (2%) 2 (1%)   Endocrine disorders 10 (5%) 7 (4%) 4 (2%) 3 (2%)   Hepatobiliary disorders 13 (6%) 9 (4%) 1 (0%) 1 (0%)   Psychiatric disorders 16 (8%) 3 (2%) 2 (1%) 2 (1%) 1 (0%)  Vascular disorders 12 (6%) 5 (2%) 2 (1%) 2 (1%) 1 (0%)  Musculoskeletal connective tissue disorders 9 (4%) 5 (2%) 2 (1%) 5 (2%)   Respiratory, thoracic mediastinal disorders 8 (4%) 6 (3%) 2 (1%) 1 (0%) 1 (0%)  Ear labyrinth disorders 10 (5%) 5 (2%) 1 (0%)    Metabolism nutrition disorders 7 (4%) 3 (2%) 4 (2%)    General disorders administration site conditions 8 (4%) 3 (2%)  1 (0%)   Nervous system disorders 7 (4%) 4 (2%)  1 (0%)   Skin subcutaneous tissue disorders 4 (2%) 5 (2%) 1 (0%) 2 (1%)   Infections infestations 6 (3%) 3 (2%)  1 (0%)   Blood lymphatic system disorders 6 (3%) 1 (0%) 1 (0%)  1 (0%)  Gastrointestinal disorders 2 (1%) 2 (1%) 4 (2%) 1 (0%)   Reproductive system breast disorders 7 (4%) 2 (1%)     Investigations 4 (2%) 2 (1%) 1 (0%) 1 (0%)   Renal urinary disorders 1 (0%) 3 (2%) 1 (0%) 1 (0%)   Declared AE      3 (2%)  patients (N=200) CTCAE SOC G1 G2 G3 G4 G5 NA Tot Blood lymphatic system disorders 6 (3%) 1 (0%) 1 (0%)  1 (0%)  9 (4%) Cardiac disorders 11 (6%) 8 (4%) 4 (2%) 5 (2%) 2 (1%)  30 (15%) Congenital, familial genetic disorders 27 (14%) 15 (8%) 6 (3%) 3 (2%)   51 (26%) Ear labyrinth disorders 10 (5%) 5 (2%) 1 (0%)    16 (8%) Endocrine disorders 10 (5%) 7 (4%) 4 (2%) 3 (2%)   24 (12%) Eye disorders 19 (10%) 7 (4%) 7 (4%) 2 (1%)   35 (18%) Gastrointestinal disorders 2 (1%) 2 (1%) 4 (2%) 1 (0%)   9 (4%) General disorders administration site conditions 8 (4%) 3 (2%)  1 (0%)   12 (6%) Hepatobiliary disorders 13 (6%) 9 (4%) 1 (0%) 1 (0%)   24 (12%) Immune system disorders 15 (8%) 7 (4%) 3 (2%) 2 (1%)   27 (14%) Infections infestations 6 (3%) 3 (2%)  1 (0%)   10 (5%) Injury, poisoning procedural complications 11 (6%) 9 (4%) 8 (4%) 1 (0%) 1 (0%)  30 (15%) Investigations 4 (2%) 2 (1%) 1 (0%) 1 (0%)   8 (4%) Metabolism nutrition disorders 7 (4%) 3 (2%) 4 (2%)    14 (7%) Musculoskeletal connective tissue disorders 9 (4%) 5 (2%) 2 (1%) 5 (2%)   21 (10%) Neoplasms benign, malignant, unspecified 17 (8%) 11 (6%) 2 (1%) 7 (4%) 2 (1%)  39 (20%) Nervous system disorders 7 (4%) 4 (2%)  1 (0%)   12 (6%) Pregnancy, puerperium perinatal conditions 18 (9%) 8 (4%) 7 (4%)    33 (16%) Psychiatric disorders 16 (8%) 3 (2%) 2 (1%) 2 (1%) 1 (0%)  24 (12%) Renal urinary disorders 1 (0%) 3 (2%) 1 (0%) 1 (0%)   6 (3%) Reproductive system breast disorders 7 (4%) 2 (1%)     9 (4%) Respiratory, thoracic mediastinal disorders 8 (4%) 6 (3%) 2 (1%) 1 (0%) 1 (0%)  18 (9%) Skin subcutaneous tissue disorders 4 (2%) 5 (2%) 1 (0%) 2 (1%)   12 (6%) Social circumstances 19 (10%) 14 (7%) 7 (4%) 5 (2%)   45 (22%) Surgical medical procedures 26 (13%) 5 (2%) 8 (4%) 3 (2%) 1 (0%)  43 (22%) Vascular disorders 12 (6%) 5 (2%) 2 (1%) 2 (1%) 1 (0%)  22 (11%) Declared AE      3 (2%) 3 (2%)","code":"tm = grstat_example() attach(tm, warn.conflicts=FALSE)  ae_table_soc(df_ae=ae, df_enrol=enrolres) #> # A tibble: 27 × 8 #>    soc           all_patients_G1 all_patients_G2 all_patients_G3 all_patients_G4 #>    <fct>         <glue>          <glue>          <glue>          <glue>          #>  1 Congenital, … 27 (14%)        15 (8%)         6 (3%)          3 (2%)          #>  2 Social circu… 19 (10%)        14 (7%)         7 (4%)          5 (2%)          #>  3 Surgical and… 26 (13%)        5 (2%)          8 (4%)          3 (2%)          #>  4 Neoplasms be… 17 (8%)         11 (6%)         2 (1%)          7 (4%)          #>  5 Eye disorders 19 (10%)        7 (4%)          7 (4%)          2 (1%)          #>  6 Pregnancy, p… 18 (9%)         8 (4%)          7 (4%)          NA              #>  7 Cardiac diso… 11 (6%)         8 (4%)          4 (2%)          5 (2%)          #>  8 Injury, pois… 11 (6%)         9 (4%)          8 (4%)          1 (0%)          #>  9 Immune syste… 15 (8%)         7 (4%)          3 (2%)          2 (1%)          #> 10 Endocrine di… 10 (5%)         7 (4%)          4 (2%)          3 (2%)          #> # ℹ 17 more rows #> # ℹ 3 more variables: all_patients_G5 <glue>, all_patients_NA <glue>, #> #   all_patients_Tot <glue> ae_table_soc(df_ae=ae, df_enrol=enrolres, arm=\"arm\") #> # A tibble: 27 × 15 #>    soc         control_G1 control_G2 control_G3 control_G4 control_G5 control_NA #>    <fct>       <glue>     <glue>     <glue>     <glue>     <glue>     <glue>     #>  1 Congenital… 18 (18%)   7 (7%)     2 (2%)     2 (2%)     NA         NA         #>  2 Social cir… 13 (13%)   5 (5%)     3 (3%)     NA         NA         NA         #>  3 Surgical a… 18 (18%)   2 (2%)     2 (2%)     NA         NA         NA         #>  4 Neoplasms … 9 (9%)     5 (5%)     NA         3 (3%)     1 (1%)     NA         #>  5 Eye disord… 7 (7%)     2 (2%)     3 (3%)     2 (2%)     NA         NA         #>  6 Pregnancy,… 10 (10%)   2 (2%)     3 (3%)     NA         NA         NA         #>  7 Cardiac di… 7 (7%)     5 (5%)     3 (3%)     2 (2%)     NA         NA         #>  8 Injury, po… 6 (6%)     7 (7%)     4 (4%)     NA         NA         NA         #>  9 Immune sys… 10 (10%)   3 (3%)     2 (2%)     NA         NA         NA         #> 10 Endocrine … 4 (4%)     4 (4%)     2 (2%)     1 (1%)     NA         NA         #> # ℹ 17 more rows #> # ℹ 8 more variables: control_Tot <glue>, treatment_G1 <glue>, #> #   treatment_G2 <glue>, treatment_G3 <glue>, treatment_G4 <glue>, #> #   treatment_G5 <glue>, treatment_NA <glue>, treatment_Tot <glue>  #sub population ae_table_soc(df_ae=ae, df_enrol=head(enrolres, 10), arm=\"arm\") #> # A tibble: 18 × 15 #>    soc         control_G1 control_G2 control_G3 control_G4 control_G5 control_NA #>    <fct>       <glue>     <glue>     <glue>     <glue>     <glue>     <glue>     #>  1 Congenital… 1 (20%)    NA         NA         NA         NA         NA         #>  2 Injury, po… NA         1 (20%)    1 (20%)    NA         NA         NA         #>  3 Surgical a… 1 (20%)    NA         NA         NA         NA         NA         #>  4 Endocrine … NA         1 (20%)    NA         NA         NA         NA         #>  5 Eye disord… 1 (20%)    NA         NA         NA         NA         NA         #>  6 Investigat… 1 (20%)    NA         1 (20%)    NA         NA         NA         #>  7 Neoplasms … NA         NA         NA         NA         NA         NA         #>  8 Respirator… NA         NA         NA         NA         NA         NA         #>  9 Cardiac di… NA         NA         NA         1 (20%)    NA         NA         #> 10 Ear and la… NA         NA         NA         NA         NA         NA         #> 11 General di… NA         NA         NA         NA         NA         NA         #> 12 Hepatobili… NA         NA         NA         NA         NA         NA         #> 13 Metabolism… NA         NA         NA         NA         NA         NA         #> 14 Musculoske… NA         NA         NA         NA         NA         NA         #> 15 Psychiatri… NA         1 (20%)    NA         NA         NA         NA         #> 16 Skin and s… 1 (20%)    NA         NA         NA         NA         NA         #> 17 Vascular d… 1 (20%)    NA         NA         NA         NA         NA         #> 18 No Declare… NA         NA         NA         NA         NA         1 (20%)    #> # ℹ 8 more variables: control_Tot <glue>, treatment_G1 <glue>, #> #   treatment_G2 <glue>, treatment_G3 <glue>, treatment_G4 <glue>, #> #   treatment_G5 <glue>, treatment_NA <glue>, treatment_Tot <glue>  #the resulting flextable can be customized using the flextable package library(flextable) ae_table_soc(ae, df_enrol=enrolres, total=FALSE) %>%   as_flextable() %>%   hline(i=~soc==\"\" & soc!=dplyr::lead(soc)) .cl-6af00568{table-layout:auto;}.cl-6ae8efa8{font-family:'DejaVu Sans';font-size:8pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-6ae8efb2{font-family:'DejaVu Sans';font-size:8pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-6aeba306{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-6aeba310{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-6aeba31a{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-6aeba324{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:0;padding-top:0;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-6aeba32e{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:0;padding-top:0;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-6aebbfa8{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6aebbfb2{background-color:rgba(242, 220, 219, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6aebbfbc{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6aebbfbd{background-color:rgba(242, 220, 219, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6aebbfc6{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6aebbfc7{background-color:rgba(242, 220, 219, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6aebbfd0{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6aebbfd1{background-color:rgba(242, 220, 219, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}All patients (N=200)CTCAE SOCG1G2G3G4G5NACongenital, familial and genetic disorders27 (14%)15 (8%)6 (3%)3 (2%)Social circumstances19 (10%)14 (7%)7 (4%)5 (2%)Surgical and medical procedures26 (13%)5 (2%)8 (4%)3 (2%)1 (0%)Neoplasms benign, malignant, and unspecified17 (8%)11 (6%)2 (1%)7 (4%)2 (1%)Eye disorders19 (10%)7 (4%)7 (4%)2 (1%)Pregnancy, puerperium and perinatal conditions18 (9%)8 (4%)7 (4%)Cardiac disorders11 (6%)8 (4%)4 (2%)5 (2%)2 (1%)Injury, poisoning and procedural complications11 (6%)9 (4%)8 (4%)1 (0%)1 (0%)Immune system disorders15 (8%)7 (4%)3 (2%)2 (1%)Endocrine disorders10 (5%)7 (4%)4 (2%)3 (2%)Hepatobiliary disorders13 (6%)9 (4%)1 (0%)1 (0%)Psychiatric disorders16 (8%)3 (2%)2 (1%)2 (1%)1 (0%)Vascular disorders12 (6%)5 (2%)2 (1%)2 (1%)1 (0%)Musculoskeletal and connective tissue disorders9 (4%)5 (2%)2 (1%)5 (2%)Respiratory, thoracic and mediastinal disorders8 (4%)6 (3%)2 (1%)1 (0%)1 (0%)Ear and labyrinth disorders10 (5%)5 (2%)1 (0%)Metabolism and nutrition disorders7 (4%)3 (2%)4 (2%)General disorders and administration site conditions8 (4%)3 (2%)1 (0%)Nervous system disorders7 (4%)4 (2%)1 (0%)Skin and subcutaneous tissue disorders4 (2%)5 (2%)1 (0%)2 (1%)Infections and infestations6 (3%)3 (2%)1 (0%)Blood and lymphatic system disorders6 (3%)1 (0%)1 (0%)1 (0%)Gastrointestinal disorders2 (1%)2 (1%)4 (2%)1 (0%)Reproductive system and breast disorders7 (4%)2 (1%)Investigations4 (2%)2 (1%)1 (0%)1 (0%)Renal and urinary disorders1 (0%)3 (2%)1 (0%)1 (0%)No Declared AE3 (2%)ae_table_soc(ae, df_enrol=enrolres, term=NULL, sort_by_count=FALSE) %>%   as_flextable() %>%   bold(i=~soc==\"Eye disorders\") .cl-6b3cf134{table-layout:auto;}.cl-6b35ffa0{font-family:'DejaVu Sans';font-size:8pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-6b35ffaa{font-family:'DejaVu Sans';font-size:8pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-6b38b088{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-6b38b092{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-6b38b093{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-6b38b09c{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:0;padding-top:0;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-6b38b09d{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:0;padding-top:0;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-6b38cc62{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6b38cc6c{background-color:rgba(242, 220, 219, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6b38cc6d{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6b38cc76{background-color:rgba(242, 220, 219, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6b38cc77{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6b38cc80{background-color:rgba(242, 220, 219, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6b38cc81{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6b38cc82{background-color:rgba(242, 220, 219, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}All patients (N=200)CTCAE SOCG1G2G3G4G5NATotBlood and lymphatic system disorders6 (3%)1 (0%)1 (0%)1 (0%)9 (4%)Cardiac disorders11 (6%)8 (4%)4 (2%)5 (2%)2 (1%)30 (15%)Congenital, familial and genetic disorders27 (14%)15 (8%)6 (3%)3 (2%)51 (26%)Ear and labyrinth disorders10 (5%)5 (2%)1 (0%)16 (8%)Endocrine disorders10 (5%)7 (4%)4 (2%)3 (2%)24 (12%)Eye disorders19 (10%)7 (4%)7 (4%)2 (1%)35 (18%)Gastrointestinal disorders2 (1%)2 (1%)4 (2%)1 (0%)9 (4%)General disorders and administration site conditions8 (4%)3 (2%)1 (0%)12 (6%)Hepatobiliary disorders13 (6%)9 (4%)1 (0%)1 (0%)24 (12%)Immune system disorders15 (8%)7 (4%)3 (2%)2 (1%)27 (14%)Infections and infestations6 (3%)3 (2%)1 (0%)10 (5%)Injury, poisoning and procedural complications11 (6%)9 (4%)8 (4%)1 (0%)1 (0%)30 (15%)Investigations4 (2%)2 (1%)1 (0%)1 (0%)8 (4%)Metabolism and nutrition disorders7 (4%)3 (2%)4 (2%)14 (7%)Musculoskeletal and connective tissue disorders9 (4%)5 (2%)2 (1%)5 (2%)21 (10%)Neoplasms benign, malignant, and unspecified17 (8%)11 (6%)2 (1%)7 (4%)2 (1%)39 (20%)Nervous system disorders7 (4%)4 (2%)1 (0%)12 (6%)Pregnancy, puerperium and perinatal conditions18 (9%)8 (4%)7 (4%)33 (16%)Psychiatric disorders16 (8%)3 (2%)2 (1%)2 (1%)1 (0%)24 (12%)Renal and urinary disorders1 (0%)3 (2%)1 (0%)1 (0%)6 (3%)Reproductive system and breast disorders7 (4%)2 (1%)9 (4%)Respiratory, thoracic and mediastinal disorders8 (4%)6 (3%)2 (1%)1 (0%)1 (0%)18 (9%)Skin and subcutaneous tissue disorders4 (2%)5 (2%)1 (0%)2 (1%)12 (6%)Social circumstances19 (10%)14 (7%)7 (4%)5 (2%)45 (22%)Surgical and medical procedures26 (13%)5 (2%)8 (4%)3 (2%)1 (0%)43 (22%)Vascular disorders12 (6%)5 (2%)2 (1%)2 (1%)1 (0%)22 (11%)No Declared AE3 (2%)3 (2%)ae_table_soc(ae, df_enrol=enrolres, term=\"aeterm\", arm=NULL) %>%   as_flextable() %>%   highlight(i=~soc==\"Hepatobiliary disorders\", j=\"all_patients_Tot\") #> Error in lead(soc): could not find function \"lead\""},{"path":"https://oncostat.github.io/grstat/reference/butterfly_plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Graphic representation of AEs by CTCAE SOC — butterfly_plot","title":"Graphic representation of AEs by CTCAE SOC — butterfly_plot","text":"Produces graphic representation AEs CTCAE SOC.","code":""},{"path":"https://oncostat.github.io/grstat/reference/butterfly_plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Graphic representation of AEs by CTCAE SOC — butterfly_plot","text":"","code":"butterfly_plot(   df_ae,   ...,   df_enrol,   severe = NULL,   sort_by = c(\"total\", \"severe\"),   range_min = NULL,   arm = \"ARM\",   subjid = \"SUBJID\",   soc = \"AESOC\" )  ae_plot_soc(df_ae, ..., df_enrol, severe, sort_by, range_min, arm, subjid, soc)"},{"path":"https://oncostat.github.io/grstat/reference/butterfly_plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Graphic representation of AEs by CTCAE SOC — butterfly_plot","text":"df_ae adverse event dataset, one row per AE, containing subjid, soc, grade. ... unused df_enrol enrollment dataset, one row per patient, containing subjid (arm needed). patients dataset. severe name logical column df_ae telling whether AE severe. Case-insensitive. sort_by either \"total\" \"severe\" range_min minimum value upper limit x-axis range. Set 1 always include 100%. arm name treatment column df_enrol. Case-insensitive. Can set NULL. subjid name patient ID df_ae df_enrol. Case-insensitive. soc name SOC column df_ae. Case-insensitive. Grade considered 0 missing (e.g. patient absent df_ae).","code":""},{"path":"https://oncostat.github.io/grstat/reference/butterfly_plot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Graphic representation of AEs by CTCAE SOC — butterfly_plot","text":"crosstable (dataframe)","code":""},{"path":[]},{"path":"https://oncostat.github.io/grstat/reference/butterfly_plot.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Graphic representation of AEs by CTCAE SOC — butterfly_plot","text":"","code":"tm = grstat_example(N=100) attach(tm, warn.conflicts=FALSE)  ae2 = ae %>%   dplyr::mutate(serious = sae==\"Yes\")  butterfly_plot(ae2, df_enrol=enrolres, range_min=0.5)  butterfly_plot(ae2, df_enrol=head(enrolres,9), range_min=0.5)   ae2 %>%   butterfly_plot(df_enrol=enrolres, severe=\"serious\") +   ggplot2::labs(caption=\"Darker areas represent Serious Adverse Events\")"},{"path":"https://oncostat.github.io/grstat/reference/example_ae.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate an Adverse Event table — example_ae","title":"Generate an Adverse Event table — example_ae","text":"Generate Adverse Event table","code":""},{"path":"https://oncostat.github.io/grstat/reference/example_ae.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate an Adverse Event table — example_ae","text":"","code":"example_ae(   enrolres,   p_na = 0,   p_sae = 0.1,   p_sae_trt = p_sae,   n_max = 15,   n_max_trt = n_max,   w_soc = 1,   w_soc_trt = 1,   beta0 = -1,   beta_trt = 0.4,   beta_sae = 1 )"},{"path":"https://oncostat.github.io/grstat/reference/example_ae.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate an Adverse Event table — example_ae","text":"enrolres enrolment result table, .example_enrol p_na proportion missing values (can list value column) p_sae, p_sae_trt proportion serious AE control/exp arms n_max, n_max_trt maximum number AE per patient control/exp arms (binomial probability 20%) w_soc, w_soc_trt log-weights SOC -representated control/exp arms. beta0, beta_trt, beta_sae intercept, treatement coef SAE coef used exponential decay model generates AE grade.","code":""},{"path":"https://oncostat.github.io/grstat/reference/example_ae.html","id":"columns","dir":"Reference","previous_headings":"","what":"Columns","title":"Generate an Adverse Event table — example_ae","text":"subjid: patient identifier. patient number AE simulated binomial distribution size n_max n_max_trt probability 20%. aesoc: CTCAE System Organ Class. Lazily simulated uniform probability. aeterm: CTCAE High Level Group Term. Lazily simulated uniform probability. Four examples HLGT per SOC provided. aegr: CTCAE grade, ranging 1 5. probability simulated using exponential decay rate grades 1 4 (probs = exp(rate * c(1:4))), probability grade 5 one grade 4 divided 7. probability vector normalized sum 1. rate calculated rate = beta0 + beta_trt*(arm!=\"Control\") + beta_sae*(sae==\"Yes\"). aerel: causality AE. Lazily simulated uniform probability. sae: Indicator Serious AE. Simulated using p_sae p_sae_trt.","code":""},{"path":"https://oncostat.github.io/grstat/reference/fct_yesno.html","id":null,"dir":"Reference","previous_headings":"","what":"Format factor levels as Yes/No — fct_yesno","title":"Format factor levels as Yes/No — fct_yesno","text":"Format factor levels arbitrary values Yes/(Yes always first) leaving untouched vectors contain information.","code":""},{"path":"https://oncostat.github.io/grstat/reference/fct_yesno.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Format factor levels as Yes/No — fct_yesno","text":"","code":"fct_yesno(   x,   input = list(yes = c(\"Yes\", \"Oui\"), no = c(\"No\", \"Non\")),   output = c(\"Yes\", \"No\"),   strict = FALSE,   mutate_character = TRUE,   fail = TRUE )"},{"path":"https://oncostat.github.io/grstat/reference/fct_yesno.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Format factor levels as Yes/No — fct_yesno","text":"x vector type/class. input list values considered \"yes\" \"\". output output factor levels. strict whether match input strictly use stringr::str_detect find . mutate_character whether turn characters factor. fail whether fail levels recoded yes/.","code":""},{"path":"https://oncostat.github.io/grstat/reference/fct_yesno.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Format factor levels as Yes/No — fct_yesno","text":"factor, x untouched.","code":""},{"path":"https://oncostat.github.io/grstat/reference/fct_yesno.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Format factor levels as Yes/No — fct_yesno","text":"","code":"fct_yesno(c(\"No\", \"Yes\")) #levels are in order #> [1] No  Yes #> Levels: Yes No  set.seed(42) N=6 x = tibble(   a=sample(c(\"Yes\", \"No\"), size=N, replace=TRUE),   b=sample(c(\"Oui\", \"Non\"), size=N, replace=TRUE),   c=sample(0:1, size=N, replace=TRUE),   d=sample(c(TRUE, FALSE), size=N, replace=TRUE),   e=sample(c(\"1-Yes\", \"0-No\"), size=N, replace=TRUE),    y=sample(c(\"aaa\", \"bbb\", \"ccc\"), size=N, replace=TRUE),   z=1:N, )  x #> # A tibble: 6 × 7 #>   a     b         c d     e     y         z #>   <chr> <chr> <int> <lgl> <chr> <chr> <int> #> 1 Yes   Non       0 FALSE 1-Yes bbb       1 #> 2 Yes   Non       1 FALSE 0-No  ccc       2 #> 3 Yes   Oui       0 TRUE  1-Yes bbb       3 #> 4 Yes   Non       0 TRUE  1-Yes aaa       4 #> 5 No    Oui       1 TRUE  1-Yes bbb       5 #> 6 No    Non       1 TRUE  1-Yes bbb       6 #y and z are left untouched (or throw an error if fail=TRUE) sapply(x, fct_yesno, fail=FALSE) #>      a   b   c   d   e   y     z   #> [1,] \"1\" \"2\" \"2\" \"2\" \"1\" \"bbb\" \"1\" #> [2,] \"1\" \"2\" \"1\" \"2\" \"2\" \"ccc\" \"2\" #> [3,] \"1\" \"1\" \"2\" \"1\" \"1\" \"bbb\" \"3\" #> [4,] \"1\" \"2\" \"2\" \"1\" \"1\" \"aaa\" \"4\" #> [5,] \"2\" \"1\" \"1\" \"1\" \"1\" \"bbb\" \"5\" #> [6,] \"2\" \"2\" \"1\" \"1\" \"1\" \"bbb\" \"6\"  # as \"1-Yes\" is not in `input`, x$e is untouched/fails if strict=TRUE fct_yesno(x$e) #> [1] Yes No  Yes Yes Yes Yes #> Levels: Yes No fct_yesno(x$e, strict=TRUE, fail=FALSE) #> [1] \"1-Yes\" \"0-No\"  \"1-Yes\" \"1-Yes\" \"1-Yes\" \"1-Yes\" fct_yesno(x$e, output=c(\"Ja\", \"Nein\")) #> [1] Ja   Nein Ja   Ja   Ja   Ja   #> Levels: Ja Nein"},{"path":"https://oncostat.github.io/grstat/reference/gr_new_project.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a clinical research project — gr_new_project","title":"Create a clinical research project — gr_new_project","text":"Create clinical research project standardized structure:","code":"├── main.R ├── NEWS.md ├── R │   ├── init.R │   ├── read.R │   ├── check.R │   ├── description.R │   ├── graph.R │   └── report.R ├── README.md └── my_proj.Rproj"},{"path":"https://oncostat.github.io/grstat/reference/gr_new_project.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a clinical research project — gr_new_project","text":"","code":"gr_new_project(path, open = TRUE, verbose = TRUE)"},{"path":"https://oncostat.github.io/grstat/reference/gr_new_project.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a clinical research project — gr_new_project","text":"path path. exist, created. open TRUE, opens new project RStudio. verbose TRUE, shows diagnostics.","code":""},{"path":"https://oncostat.github.io/grstat/reference/gr_new_project.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a clinical research project — gr_new_project","text":"path project, invisibly.","code":""},{"path":"https://oncostat.github.io/grstat/reference/gr_new_project.html","id":"structure","dir":"Reference","previous_headings":"","what":"Structure","title":"Create a clinical research project — gr_new_project","text":"root project: README.md contains short description project NEWS.md contains descriptions versions project main.R central script sequentially calls others R folder: init.R loads used packages set options read.R reads data sets global variables check.R checks data, e.g. using edc_data_warn() description.R describe data, e.g. using crosstable::crosstable() graph.R create plots, saves disk plots global list report.R creat report, e.g. using officer package","code":""},{"path":"https://oncostat.github.io/grstat/reference/gr_new_project.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a clinical research project — gr_new_project","text":"","code":"if (FALSE) { # \\dontrun{   gr_new_project(\"projects/my_project_folder\") } # }"},{"path":"https://oncostat.github.io/grstat/reference/grstat-package.html","id":null,"dir":"Reference","previous_headings":"","what":"grstat: Clinical Research Tools — grstat-package","title":"grstat: Clinical Research Tools — grstat-package","text":"Gives tools standardize output clinical research description.","code":""},{"path":[]},{"path":"https://oncostat.github.io/grstat/reference/grstat-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"grstat: Clinical Research Tools — grstat-package","text":"Maintainer: Dan Chaltiel dan.chaltiel@gustaveroussy.fr (ORCID) contributors: Team Oncostat (01ed4t417) [copyright holder, funder] Baptiste Archambaud baptiste.archambaud@gustaveroussy.fr [contributor] Charlotte Bargain charlotte.bargain@gustaveroussy.fr [contributor] Aldéric Fraslin alderic.fraslin@gustaveroussy.fr (ORCID) [contributor] Nusaïbah Ibrahimi nusaibah.ibrahimi@gustaveroussy.fr [contributor] Livia Pierotti livia.pierotti@gustaveroussy.fr [contributor]","code":""},{"path":"https://oncostat.github.io/grstat/reference/grstat_example.html","id":null,"dir":"Reference","previous_headings":"","what":"Example databases — grstat_example","title":"Example databases — grstat_example","text":"Example tables, mostly used examples tests.","code":""},{"path":"https://oncostat.github.io/grstat/reference/grstat_example.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example databases — grstat_example","text":"","code":"grstat_example(N = 200, ..., seed = 42, r = 0.5, r2 = 1/3)"},{"path":"https://oncostat.github.io/grstat/reference/grstat_example.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Example databases — grstat_example","text":"N number patients ... passed internal functions. See example_ae() control Adverse Events. seed random seed (can NULL) r, r2 proportion \"Control\" arm enrolres$arm enrolres$arm3 respectively","code":""},{"path":"https://oncostat.github.io/grstat/reference/grstat_example.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Example databases — grstat_example","text":"list datasets, like EDCimport.","code":""},{"path":"https://oncostat.github.io/grstat/reference/reexports.html","id":null,"dir":"Reference","previous_headings":"","what":"Objects exported from other packages — reexports","title":"Objects exported from other packages — reexports","text":"objects imported packages. Follow links see documentation. dplyr %>% flextable as_flextable tibble tibble","code":""},{"path":[]},{"path":"https://oncostat.github.io/grstat/reference/waterfall_plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate a waterfall plot — waterfall_plot","text":"","code":"waterfall_plot(   data_recist,   rc_sum = \"RCTLSUM\",   rc_resp = \"RCRESP\",   rc_date = \"RCDT\",   type = c(\"best_resp\", \"worst_resp\"),   rc_star = NULL,   arm = NULL,   subjid = \"SUBJID\",   warnings = getOption(\"grstat_wp_warnings\", TRUE) )"},{"path":"https://oncostat.github.io/grstat/reference/waterfall_plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate a waterfall plot — waterfall_plot","text":"data_recist recist dataset rc_sum name target lesions length sum column data_recist, usually \"RCTLSUM\". rc_resp name response column data_recist, usually \"RCRESP\". rc_date name date column data_recist, usually \"RCDT\". type one c(\"best_resp\", \"worst_resp\") rc_star name column data_recist triggers star symbol. column character factor, NA patients without symbol. arm name treatment column data_recist. Can left NULL group. subjid name subject identifier column data_recist. warnings whether warn problems","code":""},{"path":"https://oncostat.github.io/grstat/reference/waterfall_plot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate a waterfall plot — waterfall_plot","text":"ggplot","code":""},{"path":"https://oncostat.github.io/grstat/reference/waterfall_plot.html","id":"methods","dir":"Reference","previous_headings":"","what":"Methods","title":"Generate a waterfall plot — waterfall_plot","text":"Data ordered rc_date.","code":""},{"path":"https://oncostat.github.io/grstat/reference/waterfall_plot.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate a waterfall plot — waterfall_plot","text":"","code":"if (FALSE) { # \\dontrun{ waterfall_plot(rc, rc_date=\"RCDT\", rc_sum=\"RCTLSUM\", rc_resp=\"RCRESP\") waterfall_plot(rc, rc_date=\"RCDT\", rc_sum=\"RCTLSUM\", rc_resp=\"RCRESP\", type=\"worst_resp\") rc %>%   left_join(enrolres, by=\"SUBJID\") %>% #adds the ARM column   mutate(new_lesion = ifelse(RCNEW==\"1-Yes\", \"New lesion\", NA)) %>%   waterfall_plot(rc_date=\"RCDT\", rc_sum=\"RCTLSUM\", rc_resp=\"RCRESP\",                  arm=\"ARM\", rc_star=\"new_lesion\") } # }"},{"path":[]},{"path":"https://oncostat.github.io/grstat/news/index.html","id":"new-features-0-1-0","dir":"Changelog","previous_headings":"","what":"New features","title":"grstat 0.1.0 (development version)","text":"Adverse events description tables: ae_table_grade() ae_table_soc() Adverse events description plots: ae_plot_grade(), ae_plot_grade_sum() butterfly_plot() (aka ae_plot_soc())","code":""}]
